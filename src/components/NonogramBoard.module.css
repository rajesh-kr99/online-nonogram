/* ==============================================
   NONOGRAM BOARD COMPONENT STYLES
   ==============================================
   Layout: CSS Grid with clues + cells
   Design: Calm, minimal - matches page styling
   ============================================== */

/* ==============================================
   CONTAINER
   ============================================== */
.boardContainer {
  /* Cell sizing inherited from parent .puzzleArea */
  /* Parent sets --cell to appropriate value for the breakpoint */

  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
  user-select: none;
  -webkit-user-select: none;
  /* Prevent page scroll while painting on touch devices */
  touch-action: manipulation;
  /* Don't scroll at this level */
  overflow: visible;
}

/* ==============================================
   MODE TOGGLE ROW
   Pill-style buttons matching page nav
   Mobile-only: hidden on desktop, shown on touch devices
   ============================================== */
.modeToggleRow {
  display: none;
  gap: 6px;
  justify-content: center;
}

.modeButton {
  padding: 7px 14px;
  font-size: 0.8125rem;
  font-weight: 500;
  color: var(--text-secondary);
  background-color: var(--button-bg);
  border: 1px solid transparent;
  border-radius: 20px;
  cursor: pointer;
  transition: background-color 0.15s, color 0.15s;
}

.modeButton:hover {
  background-color: var(--border-color);
  color: var(--text-color);
}

.modeButton:active {
  background-color: var(--accent-color);
  color: #ffffff;
}

.modeButton:focus-visible {
  outline: 2px solid var(--accent-color);
  outline-offset: 2px;
}

/* Active mode - subtle dark fill */
.modeActive {
  background-color: var(--accent-color);
  border-color: transparent;
  color: #ffffff;
}

.modeActive:hover {
  background-color: var(--accent-hover);
  color: #ffffff;
}

.modeActive:active {
  background-color: var(--accent-hover);
}

/* ==============================================
   BOARD SCROLL WRAPPER
   Handles horizontal/vertical scrolling
   ============================================== */
.boardScroll {
  width: 100%;
  max-width: 100%;
  overflow: visible;
  flex: 0 0 auto;
}

.boardScrollInner {
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 100%;
}

/* ==============================================
   BOARD GRID
   CSS Grid: corner + col clues + row clues + cells
   ============================================== */
.board {
  display: grid;
  gap: 1px;
  background-color: var(--border-color);
  border: 2px solid var(--text-secondary);
  border-radius: 6px;
  padding: 1px;
  user-select: none;
  -webkit-user-select: none;
  /* Prevent touch scrolling during paint gestures */
  touch-action: none;
  /* Size to content, container handles scrolling */
  width: max-content;
  height: max-content;
}

/* ==============================================
   CORNER SPACE (top-left empty area)
   ============================================== */
.cornerSpace {
  background-color: var(--button-bg);
}

/* ==============================================
   CLUE CELLS
   Column clues: stacked vertically, bottom-aligned
   Row clues: inline horizontally, right-aligned
   ============================================== */
.colClueCell {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  padding: calc(var(--cell) * 0.12) calc(var(--cell) * 0.08);
  background-color: var(--button-bg);
  /* Width matches cell size */
  width: var(--cell);
  min-width: var(--cell);
  gap: 2px;
}

.rowClueCell {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  padding: calc(var(--cell) * 0.08) calc(var(--cell) * 0.15);
  background-color: var(--button-bg);
  /* Height matches cell size */
  height: var(--cell);
  min-height: var(--cell);
  gap: 6px;
}

.clueNumber {
  font-size: max(0.55rem, calc(var(--cell) * 0.25));
  font-weight: 600;
  color: var(--text-color);
  line-height: 1;
  font-variant-numeric: tabular-nums;
}

/* ==============================================
   GRID CELLS
   Cell size controlled by --cell variable
   ============================================== */
.cell {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--game-bg);
  border: none;
  cursor: pointer;
  padding: 0;
  /* Cell size from variable */
  width: var(--cell);
  height: var(--cell);
  min-width: var(--cell);
  min-height: var(--cell);
  transition: background-color 0.1s;
  /* Prevent text selection and touch scrolling during drag */
  user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
  touch-action: none;
}

/* Accessible focus indicator */
.cell:focus-visible {
  outline: 2px solid var(--accent-color);
  outline-offset: -2px;
  z-index: 2;
  background-color: var(--accent-color);
  opacity: 0.3;
}

/* Remove default focus ring */
.cell:focus:not(:focus-visible) {
  outline: none;
}

/* Filled cell (value = 1) - near-black */
.cellFilled {
  width: calc(var(--cell) - 6px);
  height: calc(var(--cell) - 6px);
  background-color: var(--cell-filled);
  border-radius: 3px;
}

/* X marker (value = 2) - subtle mark */
.cellX {
  font-size: 1.5rem;
  font-weight: 300;
  color: var(--cell-marked);
  line-height: 1;
}

/* Read-only cell - disabled state */
.cellReadOnly {
  cursor: not-allowed;
  opacity: 0.9;
}

.cellReadOnly:hover {
  background-color: var(--game-bg);
}

/* Native disabled state for cells */
.cell:disabled {
  cursor: not-allowed;
  opacity: 0.95;
}

.cell:disabled:hover {
  background-color: var(--game-bg);
}

/* ==============================================
   MOBILE (<768px)
   Show mode toggle for touch devices
   ============================================== */
@media (max-width: 767px) {
  .modeToggleRow {
    display: flex;
  }
}

/* ==============================================
   TABLET (<1024px)
   ============================================== */
@media (max-width: 1023px) {
  /* Cell sizing handled by puzzleArea --cell variable */
}

/* ==============================================
   SMALL MOBILE (<600px)
   Shrink cells to fit screen
   ============================================== */
@media (max-width: 599px) {
  /* Cell sizing handled by puzzleArea --cell variable */
}

/* ==============================================
   VERY SMALL SCREENS (<400px)
   Further shrink for tiny devices
   ============================================== */
@media (max-width: 400px) {
  /* Cell sizing handled by puzzleArea --cell variable */
}
